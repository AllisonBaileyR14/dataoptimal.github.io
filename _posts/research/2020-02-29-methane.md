---
title: "Methane Oxidation in Landfills"
date: 2020-02-20
tags: [data wrangling, data science, messy data]
header:
  image: "/images/us_map.jpg"
excerpt: "Data Wrangling, Data Science, Messy Data"
mathjax: "true"
---

## Methane Oxidation in Landfills

<img src="{{ site.url }}{{ site.baseurl }}/images/solar.jpg">

In 2017, UCSB-Bren PhD candidate, Alexander DeGolia, published his dissertation "Choosing Green: Explaining Motivations Across Different Environmental Behaviors".[1] Part of the research included an extensive survey to California residence to evaluate motivations that drive support or opposition towards environmental policies and programs. The data collected on each residence was broken down into age, gender, education level, income level, and political affiliation.  Each resident was asked their level of support (Strongly Oppose, Mostly Oppose, Neutral, Mostly Support, Strongly Support) for three California environmental programs: Cap and Trade, Land Conservation, and Renewable Energy. 

Here is the presentation:
<iframe width="100%" height="500px" src="../images/methane_pre" class="cool"></iframe>

A Principal component analysis (PCA) was conducted to evaluate the variables in the survey that were most correlated with the levels of support for the Land Conservation Program.


<img src="{{ site.url }}{{ site.baseurl }}/images/survey_cor.png" width = "100%">

As shown in the PCA results, education level and income were the biggest factor in Land Conservation support or opposition. 

Here is the R Markdown document to how these maps were produced:
<iframe width="100%" height="500px" src="../images/survey_analysis.html" class="cool"></iframe>

Here is the reproducible code:
```r
# Attach libraries to be able to conduct Q. 2 on the assignment (PCA)
library(tidyverse)
library(janitor)
library(naniar)
library(VIM)
library(skimr)
library(ggfortify)
library(here)

# Read in the data.
land_conservation <- read_csv("DeGoliaSurvey_PSETXLS.csv")

land_clean <- land_conservation %>%
  clean_names() %>%
  select(-captrade, -renewables)
  
# Now let's do PCA. Use the 'prcomp()' function
# land_pca <- prcomp(land_clean, scale = TRUE) gives us error!

# We have errors.  Let's explore missingness!

summary(land_clean)
# There is 1 NA in the income column
# double check with gg_miss_var
gg_miss_var(land_clean)

# Let's drop that one NA using drop_NA()

land_ready <- land_clean %>%
  drop_na()

# Now let's try our PCA again....
land_pca <- prcomp(land_ready, scale = TRUE)

# Now we are ready to plot our PCA..

land_biplot <- autoplot(land_pca,
                      colour = NA,
                      loadings.label = TRUE,
                      loadings.label.size = 3,
                      loadings.label.colour = "black",
                      loading.label.repel = TRUE) +
  ggtitle("Land Conservation: Support Level Correlations") +
  theme(plot.title = element_text(hjust = 0.5))

land_biplot

```
