---
title: "Mapping Projects"
date: 2020-02-20
tags: [data wrangling, data science, messy data]
header:
  image: "/images/geommap.jpg"
excerpt: "Data Wrangling, Data Science, Messy Data"
mathjax: "true"
---

## Hawaii Agriculture Land Use

<img src="{{ site.url }}{{ site.baseurl }}/images/ag.jpg">

Over the past 35 years, Hawaii has undergone major shifts in their agricultural land use. This shift was focused on moving away from plantation sugar and pineapple production and opening doors for a diversity in crops. Overall, crop land use has decreased from 830 acres to 151,830 acres. Active pasture use has also declined from 1.1 million acres to 760,000 acres. Pasture land use still acccounts for 83 percent of agricultural land use in the state, with 73% of that on the Hawaii Island[1].

The below static and interactive map will allow you to visualize and scale in on agricultural land use and supporting watersheds on the Hawaiian Islands. The data used for this analysis was pulled from Hawaii Statewide GIS Program[2]. 


What about a [link](https://github.com/dataoptimal)?

Here is R code to create a map of the agricultural land use in Hawaii:
```r
# Now let's read in land use csv. 
haw_land <- read_csv("Land_Use_Land_Cover_LULC.csv") %>%
  clean_names()

# Let's transform and simplify into grid system 4326.  Furthermore, I only want to show land that is used for agricultural purposes. 

land_trans <- read_sf(dsn = ".", layer = "Land_Use_Land_Cover_LULC") %>%
  dplyr::select(landcover) %>%
  rename(region = landcover) %>%
  st_transform(crs = 4326) %>%
  st_simplify(dTolerance = .001) %>%
  filter(region == "Cropland and Pasture" | str_detect(region, "Rangeland"))

# plot(land_trans)

ha_water <- read_sf(dsn = ".", layer = "Watersheds") %>%
  dplyr::select(wuname) %>%
  rename(watersheds = wuname) %>%
  st_transform(crs = 4326) %>%
  st_simplify(dTolerance = .001)
  

land_water_ha <- ggplot(data = shape_land) + 
  geom_sf(color = "black",
          size = 0.1) +
  geom_sf(data = land_trans,
          aes(fill = region),
          alpha = 0.8, 
          color = "NA",
          show.legend = TRUE) +
  scale_fill_manual(values = c("red", "#A569BD","darkgoldenrod1", "aquamarine4")) +
  geom_sf(data = ha_water,
          size = 0.1,
          alpha = 0.2,
          color = "blue") +
  theme_minimal() +
  labs(title = "Hawaii Island",
       subtitle = "Agricultural Land Use and Watersheds") +
   theme(
      plot.title = element_text(size=14, hjust=0.5, vjust=0.5, face='bold'),
      strip.text.y = element_text(size = 7), 
      plot.subtitle = element_text(hjust=0.5, vjust=0.5, face='italic'),
      legend.position = "right"
    ) +
  coord_sf(xlim = c(-154, -157), ylim = c(18.5, 20.5), expand = FALSE) 


land_water_ha
```

Here's an image:
<img src="{{ site.url }}{{ site.baseurl }}/images/hawaii_static.png" >

<img src="{{ site.url }}{{ site.baseurl }}/images/hawaii_static.png" >


Here's another image using Kramdown:
![alt]({{ site.url }}{{ site.baseurl }}/file:///Users/allisonbailey/Desktop/Winter%202020%20Courses/Adv%20Data/Homework%202/hawaii_bailey/hawaii_map_ag.html)

